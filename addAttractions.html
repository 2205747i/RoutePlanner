<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script src= "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/addAttractions.css">
  </head>
	<body>
	<center>
	<div class="centerDiv">
		<h1> Attractions in Glasgow</h1>
		<h2>Choose the attraction(s) you'd like to visit:</h2>
	<div class="innerDiv">
		<label class="container">Kelvingrove Art Gallery
			<input type="checkbox" class="check" name="Kelvingrove Art Gallery" value="0">
			<span class="checkmark"></span>
		</label>
		<label class="container">Riverside Museum
			<input type="checkbox" class="check" name="Riverside Museum" value="1">
			<span class="checkmark"></span>
		</label>
		<label class="container">Glasgow Cathedral
			<input type="checkbox" class="check" name="Glasgow Cathedral" value="2">
			<span class="checkmark"></span>
		</label>
		<label class="container"> University of Glasgow
			<input type="checkbox" class="check" name="University of Glasgow" value="3">
			<span class="checkmark"></span>
		</label>
		<label class="container"> The Lighthouse
			<input type="checkbox" class="check" name="The Lighthouse" value="4">
			<span class="checkmark"></span>
		</label>
		<label class="container"> Celtic Park
			<input type="checkbox" class="check" name="Celtic Park" value="5">
			<span class="checkmark"></span>
		</label>
		<label class="container"> George Square
			<input type="checkbox" class="check" name="George Square" value="6">
			<span class="checkmark"></span>
		</label>
		<label class="container"> Glasgow Green
			<input type="checkbox" class="check" name="Glasgow Green" value="7">
			<span class="checkmark"></span>
		</label>
		</div>
		<button onclick="getCheckedBoxes();return false;">Generate Route
		<input  type="submit" id = "genroute" value="Generate Route" />
		</button>
		<button onclick="goBack()">Back
			<input  type="submit" id = "goback" value="Back" />
		</button>
	<script>
	var params;
	window.onload = function () {
            var url = document.location.href;
            params = "&" + url.split('?')[1] + "&" + url.split('?')[2] + "&" + url.split('?')[3];
    };

	function getCheckedBoxes() {
		  var checkboxes = document.getElementsByClassName('check');
		  var checkboxesChecked = [];

		  // loop over them all
		  for (var i=0; i<checkboxes.length; i++) {
			 // And stick the checked ones onto an array...
			 if (checkboxes[i].checked) {
				checkboxesChecked.push(checkboxes[i].name);
			 }
		  }

		url = 'showmap.html?arr=' + encodeURIComponent(checkboxesChecked + params);
		document.location.href = url;
	}

    function goBack() {
        url = 'createRoute.html';
        document.location.href = url;
	}

	</script>
	</div>
	</center>
  </body>
</html>
